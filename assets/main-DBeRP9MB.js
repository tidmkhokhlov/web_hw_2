import"./style-Cvjpl_yh.js";const l="https://api.open-meteo.com/v1/forecast",m="https://geocoding-api.open-meteo.com/v1/search",w={0:"Ясно",1:"Преимущественно ясно",2:"Переменная облачность",3:"Пасмурно",45:"Туман",48:"Туман с изморозью",51:"Мелкий моросящий дождь",53:"Моросящий дождь",55:"Сильная изморось",56:"Ледяная изморось",57:"Ледяной дождь",61:"Небольшой дождь",63:"Дождь",65:"Ливень",66:"Ледяной дождь",67:"Сильный ледяной дождь",71:"Небольшой снег",73:"Снег",75:"Сильный снег",77:"Снежная крупа",80:"Небольшие ливни",81:"Ливни",82:"Сильные ливни",85:"Небольшие снегопады",86:"Сильные снегопады",95:"Гроза",96:"Гроза с градом",99:"Сильная гроза с градом"};document.getElementById("getWeather").addEventListener("click",async()=>{const o=document.getElementById("city").value.trim(),t=document.getElementById("weatherResult");if(!o)return t.textContent="Введите название города!";t.textContent="Загрузка...";try{const n=await fetch(`${m}?name=${encodeURIComponent(o)}&count=1&language=ru&format=json`);if(!n.ok)throw new Error("Geocoding request failed");const r=await n.json(),a=r.results&&r.results[0];if(!a){t.textContent="Город не найден.";return}const{latitude:u,longitude:d,name:c,country:s}=a,i=await fetch(`${l}?latitude=${u}&longitude=${d}&current_weather=true&timezone=auto`);if(!i.ok)throw new Error("Weather request failed");const e=(await i.json()).current_weather;if(!e){t.textContent="Нет данных о погоде.";return}const h=w[e.weathercode]||"Описание недоступно",p=s?`${c}, ${s}`:c;t.innerHTML=`
      <h3>${p}</h3>
      <p>Температура: ${e.temperature}°C</p>
      <p>Скорость ветра: ${e.windspeed} км/ч</p>
      <p>Описание: ${h}</p>
    `}catch{t.textContent="Ошибка при получении данных."}});
